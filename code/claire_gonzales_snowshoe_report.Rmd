---
title: "Task 2: Mini exploratory report on juvenile showshoe hares in Bonanza Creek Experimental Forest"
author: "By: Claire Gonzales"
date: "November 10, 2021"
output: 
  html_document: 
    theme: simplex
---
## 1. Project Overview

Bonanza Creek LTER is part of the US Long Term Ecological Research Network. See more information about the site here. In this “mini exploratory report,” you will explore the counts and sizes of juvenile snowshoe hares recorded from 1998 - 2012. The data citation and link to metadata (including variable definitions) are below.

Link to metadata: https://portal.edirepository.org/nis/metadataviewer?packageid=knb-lter-bnz.55.22


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)

# install packages

library(tidyverse)
library(janitor)
library(here)
library(lubridate) # for `ymd()` function
library(broom)
library(ggbeeswarm)
library(kableExtra)
```

## 2. Data and Analysis


```{r}
# Read in raw csv file
bonanza_hares <- read_csv(here("data", "bonanza_hares.csv"))
```

## 3. Initial Juvenile Hare Investigation

### 3a. Annual juvenile hare trap counts
```{r}
# Count the total number of juvenile hare trappings during each year of the study
hare_juv_year <- bonanza_hares %>% 
  filter(age == "j") %>% # only include observations of juvenile hares
  mutate(date = mdy(date)) %>% # lubridate() to transform date from myd forat to YYYY-MM-DD format
  mutate(year = year(date)) %>% # add a column with just the year
  group_by(year) %>% # group by year
  summarize(count = n()) # count of observations per year

# Creating table
kable(hare_juv_year,
      align = "c",
      booktabs = TRUE,
      col.names = c("Year",
                    "Count")) %>% 
  kable_styling(bootstrap_options = "striped", full_width = FALSE)
```

```{r}
# Create a finalized data visualization of the counts by year. Include a figure caption below the figure in your report.

ggplot(data = hare_juv_year, aes(x = year, y = count)) +
  geom_bar(stat = "identity", aes(fill = year)) +
  labs(title = "Juvenile Hare Trap Counts Per Year (1999-2012)",
       x = "Hare count",
       y = "Year",
       fill = "Year") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5))

```

**Figure 1.** Shows the number of juvenile showshoe hares that were captured within the Bonanza Creek Experimental Forest between the years 1999 and 2012. 

```{r}
# Summary statistics for in-line description
hare_juv_summary <- bonanza_hares %>% 
  filter(age == "j") %>%
  mutate(date = mdy(date)) %>%
  mutate(year = year(date)) %>%
  group_by(year) %>% 
  summarize(count = n()) %>% 
  summarize(mean_count = round(mean(count, na.rm = TRUE), 1),
            median_count = median(count, na.rm = TRUE),
            max_count = max(count, na.rm = TRUE),
            min_count = min(count, na.rm = TRUE),
            sd_count = round(sd(count, na.rm = TRUE), 1))

```


### 3b. Juvenile hare weight visualization



### 3c. Juvenile weight comparison (male & female snowshoe hares)



### 3d. Relationship between juvenile weight & hind foot length

## 4. Summary of Results


## 5. Citations

Kielland, K., F.S. Chapin, R.W. Ruess, and Bonanza Creek LTER. 2017. Snowshoe hare physical data in Bonanza Creek Experimental Forest: 1999-Present ver 22. Environmental Data Initiative. https://doi.org/10.6073/pasta/03dce4856d79b91557d8e6ce2cbcdc14
